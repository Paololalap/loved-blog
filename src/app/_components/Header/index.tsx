{
  /* eslint-disable @next/next/no-img-element */
}

import { Menu } from 'lucide-react'
import Link from 'next/link'

import { lato } from '../../../fonts/fonts'
import { cn } from '../../../lib/utils'
import type { Header } from '../../../payload/payload-types'
import { fetchHeader } from '../../_api/fetchGlobals'
import { Gutter } from '../Gutter'

import classes from './index.module.scss'

export async function Header() {
  let header: Header | null = null

  try {
    header = await fetchHeader()
  } catch (error) {
    // When deploying this template on Payload Cloud, this page needs to build before the APIs are live
    // So swallow the error here and simply render the header without nav items if one occurs
    // in production you may want to redirect to a 404  page or at least log the error somewhere
    // console.error(error)
  }

  return (
    <>
      <header
        className={cn(
          classes.header,
          'h-[126px] md:sticky top-0 left-0 w-full z-[9999] bg-white shadow-md px-[10px] md:px-0 flex-nowrap',
        )}
      >
        <Gutter className={cn(classes.wrap, 'h-full max-w-[1459px] items-center')}>
          <Link
            href={'https://loved-project.vercel.app/find-loved'}
            className="relative flex items-center cursor-pointer max-w-[194.3px] w-screen h-[23px]"
          >
            <svg
              className="absolute text-black size-4 left-2"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              strokeWidth="1.5"
              stroke="currentColor"
            >
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"
              />
            </svg>
            <p
              className={cn(
                lato.variable,
                'font-lato w-full cursor-pointer px-10 py-1 pl-7 pr-1 text-[18px] font-[500] leading-[15px] text-[#586580] outline-none md:whitespace-nowrap text-balance',
              )}
            >
              Find Someone Loved
            </p>
          </Link>
          <Link href="https://loved-project.vercel.app">
            {/* Cannot use the `<picture>` element here with `srcSet`
              This is because the theme is able to be overridden by the user
              And so `@media (prefers-color-scheme: dark)` will not work
              Instead, we just use CSS to invert the color via `filter: invert(1)` based on `[data-theme="dark"]`
            */}
            {/* Loved Logo */}
            <svg
              width="165"
              height="39"
              viewBox="0 0 165 39"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="w-[170px] h-[40.17px]"
            >
              <path
                d="M25.5081 32.0496C26.2939 32.6914 27.0707 33.2845 27.8286 33.8346C23.8655 36.6903 20.4824 38.27 20.3468 38.3315C20.2106 38.27 16.8325 36.6903 12.87 33.8346C13.6278 33.2883 14.4078 32.6914 15.1893 32.0496C16.9687 30.5974 18.7615 28.9175 20.3468 27.0196C21.9362 28.9175 23.7293 30.5974 25.5081 32.0496Z"
                fill="#2E266F"
              />
              <path
                d="M27.8268 0.668823C25.036 0.668823 22.4565 1.55794 20.3482 3.06903C23.6096 5.40462 25.736 9.21987 25.736 13.5383C25.736 15.3198 25.4819 17.2718 24.8061 19.312C24.6693 19.7206 24.5247 20.1202 24.3655 20.5102C23.4013 22.8897 21.9824 25.0664 20.3488 27.0199C21.9373 28.916 23.7284 30.5997 25.5069 32.0499C26.2924 32.6917 27.0733 33.2886 27.8315 33.8349C28.5896 33.2886 29.3711 32.6917 30.1516 32.0499C33.7605 29.1049 37.4242 25.2093 39.3261 20.5102C39.485 20.1205 39.6314 19.7206 39.767 19.312C40.4437 17.2718 40.6981 15.3198 40.6981 13.5383C40.6978 6.42909 34.9361 0.668823 27.8268 0.668823Z"
                fill="#FF318C"
              />
              <path
                d="M15.8913 19.3117C15.2146 17.2715 14.9605 15.3195 14.9605 13.538C14.9605 9.21986 17.0874 5.40433 20.348 3.06873C18.2391 1.55794 15.6564 0.668518 12.8659 0.668518C5.7616 0.668518 -0.00012207 6.42878 -0.00012207 13.5377C-0.00012207 15.3192 0.254538 17.2712 0.930042 19.3114C1.06217 19.72 1.20682 20.1196 1.37126 20.5096C3.2735 25.2087 6.93624 29.1043 10.546 32.0493C11.3307 32.6911 12.1118 33.288 12.8708 33.8343C13.6287 33.288 14.409 32.6911 15.1901 32.0493C16.9684 30.5994 18.7603 28.9154 20.3482 27.0193C18.7149 25.0658 17.297 22.8891 16.3316 20.5096C16.168 20.1202 16.0222 19.7203 15.8913 19.3117Z"
                fill="#07C3F2"
              />
              <path
                d="M24.8058 19.3117C25.4816 17.2715 25.7357 15.3195 25.7357 13.538C25.7357 9.21986 23.6091 5.40432 20.3479 3.06873C17.0871 5.40432 14.9605 9.21956 14.9605 13.538C14.9605 15.3195 15.2146 17.2715 15.8912 19.3117C16.0222 19.7203 16.1677 20.1199 16.3316 20.5099C17.297 22.8894 18.7149 25.0661 20.3482 27.0196C21.9818 25.0661 23.4007 22.8894 24.3649 20.5099C24.5247 20.1202 24.669 19.7203 24.8058 19.3117Z"
                fill="#FDB60D"
              />
              <path
                d="M58.3671 28.1681H57.297C57.0662 28.1681 56.716 28.0994 56.361 27.4879C56.0277 26.9157 55.8583 26.1576 55.8583 25.2364V3.50212C55.8583 2.68866 55.5888 2.00471 55.0559 1.4724C54.5228 0.941836 53.8397 0.669128 53.0254 0.669128C52.2116 0.669128 51.5271 0.942131 50.9959 1.47299C50.4627 2.00443 50.1935 2.68837 50.1935 3.50241V25.2367C50.1935 26.8357 50.486 28.3054 51.0655 29.5956C51.6581 30.9216 52.5085 31.9682 53.5958 32.7103C54.6907 33.4574 55.9363 33.832 57.2967 33.832H57.3834C58.3866 33.832 59.2298 33.5881 59.8895 33.0986C60.6049 32.5712 60.9847 31.8436 60.9847 31.0016C60.9847 30.2024 60.7452 29.5287 60.2728 28.9993C59.7877 28.4539 59.1276 28.1681 58.3671 28.1681Z"
                fill="#2E266F"
              />
              <path
                d="M80.9949 10.508C79.1154 9.43931 76.9652 8.89972 74.6054 8.89972C72.2177 8.89972 70.0474 9.43931 68.1533 10.508C66.254 11.5779 64.7554 13.0828 63.7001 14.9839C62.6509 16.8731 62.1175 19.0562 62.1175 21.4718C62.1175 23.863 62.6509 26.0309 63.7001 27.9207C64.756 29.8217 66.2543 31.327 68.1533 32.3971C70.046 33.4647 72.216 34.004 74.6054 34.004C76.9954 34.004 79.159 33.4632 81.0371 32.3971C82.921 31.327 84.412 29.8214 85.4682 27.9207C86.5183 26.0295 87.0509 23.8621 87.0509 21.4718C87.0509 19.0562 86.5098 16.8713 85.444 14.9816C84.375 13.0825 82.8782 11.5779 80.9949 10.508ZM74.6054 28.7667C73.2864 28.7667 72.0894 28.4533 71.0503 27.8362C70.0122 27.2224 69.186 26.3566 68.5948 25.2637C67.9991 24.1648 67.6964 22.8892 67.6964 21.4715C67.6964 20.0576 67.9991 18.7735 68.596 17.656C69.1883 16.5509 70.0137 15.6792 71.0506 15.066C72.0894 14.4496 73.2861 14.1382 74.6051 14.1382C75.9238 14.1382 77.1194 14.4493 78.1602 15.066C79.1954 15.6786 80.0121 16.5491 80.5895 17.6504C81.1748 18.7704 81.4708 20.055 81.4708 21.4715C81.4708 22.8894 81.1748 24.1665 80.5909 25.2725C80.0144 26.3595 79.1963 27.2224 78.1602 27.8362C77.1197 28.4533 75.9241 28.7667 74.6054 28.7667Z"
                fill="#2E266F"
              />
              <path
                d="M110.641 9.44281C110.258 9.25218 109.823 9.15613 109.348 9.15613C108.859 9.15613 108.39 9.28069 107.958 9.52458C107.511 9.77808 107.162 10.1454 106.923 10.6305L100.201 25.2815L93.3944 10.609C93.1636 10.1497 92.8298 9.78564 92.399 9.53069C91.9776 9.28331 91.5274 9.15613 91.0626 9.15613C90.6042 9.15613 90.1883 9.25799 89.8542 9.44425C88.5483 10.0985 88.2724 11.0959 88.2724 11.8186C88.2724 12.21 88.3556 12.5764 88.5113 12.8858L97.5746 31.9961C97.8875 32.6236 98.2437 33.0651 98.6602 33.3477C99.0889 33.6422 99.6235 33.7915 100.248 33.7915C101.056 33.7915 102.164 33.4752 102.843 31.9827L111.893 12.8998C112.084 12.5176 112.181 12.1387 112.181 11.7743C112.181 11.2673 112.04 10.7996 111.766 10.3849C111.493 9.97803 111.109 9.65701 110.641 9.44281Z"
                fill="#2E266F"
              />
              <path
                d="M131.635 10.4527C129.935 9.42272 127.901 8.89972 125.591 8.89972C123.259 8.89972 121.134 9.44106 119.282 10.5098C117.426 11.5808 115.959 13.0959 114.918 15.011C113.882 16.9121 113.36 19.0885 113.36 21.4715C113.36 23.8653 113.915 26.0399 115.013 27.9329C116.114 29.8307 117.662 31.3346 119.619 32.4006C121.564 33.4661 123.79 34.0037 126.232 34.0037C127.614 34.0037 129.076 33.7447 130.577 33.2388C132.085 32.735 133.371 32.059 134.383 31.2574C135.013 30.7845 135.345 30.1483 135.345 29.4195C135.345 28.6675 135.001 27.9952 134.348 27.4509C133.903 27.0493 133.315 26.8435 132.598 26.8435C131.9 26.8435 131.282 27.0539 130.767 27.4559C130.231 27.8633 129.529 28.2178 128.68 28.5039C127.833 28.7906 127.01 28.9364 126.233 28.9364C124.214 28.9364 122.564 28.3889 121.184 27.2577C120.019 26.3054 119.262 25.1235 118.883 23.6624H134.266C135.017 23.6624 135.654 23.4191 136.157 22.9372C136.666 22.4433 136.926 21.8231 136.926 21.0864C136.926 18.7398 136.472 16.6248 135.572 14.8003C134.664 12.9501 133.339 11.4874 131.635 10.4527ZM120.988 15.5017C122.147 14.481 123.696 13.9664 125.592 13.9664C127.298 13.9664 128.634 14.4609 129.676 15.4778C130.562 16.341 131.163 17.4741 131.47 18.855H118.942C119.318 17.4767 119.993 16.3777 120.988 15.5017Z"
                fill="#2E266F"
              />
              <path
                d="M164.196 1.47209C163.665 0.941522 162.968 0.668823 162.125 0.668823C161.313 0.668823 160.626 0.93832 160.081 1.46452C159.528 1.99712 159.25 2.69824 159.25 3.54429V11.7487C158.462 11.0453 157.58 10.4571 156.615 9.99287C155.101 9.26702 153.45 8.89972 151.699 8.89972C149.528 8.89972 147.53 9.45067 145.76 10.5415C143.992 11.6276 142.586 13.1492 141.578 15.0599C140.575 16.9604 140.067 19.1045 140.067 21.4322C140.067 23.7643 140.614 25.9122 141.694 27.8208C142.777 29.7283 144.295 31.2548 146.206 32.3494C148.108 33.4472 150.248 34.0046 152.554 34.0046C154.862 34.0046 156.987 33.4463 158.866 32.3494C160.743 31.2551 162.25 29.7286 163.347 27.8249C164.444 25.9148 165 23.7664 165 21.4325V3.54517C165 2.70319 164.729 2.00469 164.196 1.47209ZM152.554 28.7667C151.264 28.7667 150.084 28.4498 149.047 27.8211C148.005 27.1887 147.169 26.3077 146.565 25.1994C145.954 24.0833 145.644 22.8187 145.644 21.4319C145.644 20.0474 145.953 18.7869 146.562 17.6871C147.167 16.5905 148.002 15.7162 149.047 15.0826C150.085 14.4554 151.265 14.1384 152.553 14.1384C153.842 14.1384 155.022 14.4554 156.061 15.0826C157.098 15.7136 157.928 16.587 158.52 17.681C159.118 18.7837 159.418 20.0451 159.418 21.4322C159.418 22.8193 159.118 24.0874 158.518 25.2029C157.927 26.3112 157.096 27.1916 156.061 27.8226C155.023 28.4495 153.844 28.7667 152.554 28.7667Z"
                fill="#2E266F"
              />
            </svg>
          </Link>

          <div className="hidden h-[62px] flex-shrink-0 items-center gap-x-[32px] md:flex">
            <Link
              href={'https://loved-project.vercel.app/login'}
              className={cn(
                'w-[54px] text-center text-[18px] font-[900] leading-[22px] text-black whitespace-nowrap font-lato',
                lato.variable,
              )}
            >
              Sign in
            </Link>
            <Link
              href={'https://loved-project.vercel.app/getting-started'}
              className={cn(
                'self-center whitespace-nowrap rounded-full border-[#FF007A] border px-[20px] py-[10px] text-[18px] font-[900] text-[#FF007A] hover:bg-[#FF007A] hover:text-white focus:bg-[#FF007A] focus:text-white focus-visible:ring-0 focus-visible:ring-[#FF007A] focus-visible:ring-offset-0 font-lato',
                lato.variable,
              )}
            >
              Start Loved page
            </Link>
          </div>

          <Menu className="text-black md:hidden size-10 shrink-0" />

          {/* <HeaderNav header={header} /> */}
        </Gutter>
      </header>
    </>
  )
}
